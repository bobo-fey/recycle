(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"28b8":function(t,e,i){"use strict";var a=i("a0eb"),s=i.n(a);s.a},"49d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAECklEQVRoQ+2ZS4gcVRSGz6mCGWF8LHzNymh2QVw1zkD63qpKg2KyMaK9MEKyMT4CkqiJoOMjPpKNrwTBgIqQgHExAeMmEQ2mus7txYxmJZJdolmNJm7UhTPQ98oZTkkTuqdvVfdk0tJ31d11Xl+d/1TdSyMM+cIhrx/+3wBa6+cA4AUAuHuNOvULAHxARB91y9+1A1rr2wHg9zUq/Oq0dxDR5U61dAVQSiWIeFac0jUCSTivc26TMaZjDSvOgNb6KwDYKsW/TUSvXwsQrfVbAPCa5DpJRI8UlhA7RFF0n3PuewC4jb9bax9sNpvfrSZEtVp9IAiCbyXHFUSsZVn2UykAdtJaPwsAH0uA+TAM4zRN/1kNiCRJbmi1Wg0AmJL4u4joyEq5vB6jSqkvEHGb6PF9Y8ze1QBQSr2HiC9KnuPGmCd65fEFWI+ILKV1EnArEX3dK3iR61rrhwHgpPj86pyrGWMu9IrhBSDzsN05d1QC/ry4uBjPz8//0SuBz/Wpqalbx8fHWTr3sj0i7siy7JiPrzeAzMMnALBTAh8hol0+SXrZaK15xnjWeH1KRE/18smvFwJIkmSy1WqxlDaITrcZY770TdbJTin1OCIel2vnwzCspWm64BuzEIB04TEAmJUEF621SbPZvOSbsN2uWq3eFQQBv6Dukd/rRHSiSKzCABxcKXUIEXdLF44ZY3YUSZrbKqWOIuJ2iXPYGLOnaJxSANPT0zePjY2xlCqScCcRfVYkudb6Sda7+JxbWlqqzc3N/VkkBtuWAmDHOI43W2tPyd37LQiCTVmWnfcpIIqiDdbas4h4J9sHQbCl0Wic9vG92qY0gMzDAQB4RYKeIKK6TxFaa54hniVeB4loxsevk01fAPV6PVxYWGApRcvtRNyTZdnhlYqJomi3c+6Q2GSTk5O12dnZ1poASBdiAGCIAAD+kq3vuU4FKaUqskW/ifeGAFAjIn6BlV59dSDPqpSaQcR3ZB5OG2O2dAE4hYibxe5VYwxLsK81EADpBA/hQ1LNDBEdbK9Ma82zkhf8DREtg/S7BgYQx/H91lqW0o0A0JJ9fMYFRlEUybkiBIC/gyCoNRqNH/otfnnuBhEkj6G15hfRhyKR/caYN/mzUuoNRNwvds8TUT7EfacfKED7Odo51xFgpfNtGZoRQPtdG3WghIZGEhpJqIRs2l1GEhpJaCShPu/ASEJ93sBVewoBwJkwDF9O0/TH9t3o0Gzm8huLiJ9bay/l2+nrGkAOLxudc+8CwMZO6rjuAdoON88AAIPwCe2/NTQAchJbDwAvIeLTOcFQAbR141EG4b+OhhKAQSqVyi0TExP7rLVnuv1lWuaJOtDHqE8BfGobagAfyCI217wDRYrzsf0XkPJET4d6KLYAAAAASUVORK5CYII="},"6ce4":function(t,e,i){"use strict";(function(t){i("99af"),i("d81d"),i("e25e"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{title:"我的订单",chooseItem:0,show:!1,state:0,selector:["全部","派单中","待预约","待回收","已完成","已取消","已过期"],orderList:[],o_length:0,pageIndex:1,pageSize:10,allTotal:0,showmodal:!1,showTitle:!0,modalTitle:"立即联系回收商",titleStyle:{color:"#3d3d3d"},content:"",confirmText:"拨打电话",modalType:0,confirmColor:"#F7A300",phoneNumber:"",cancel_id:0,IsEmpty:!1}},onLoad:function(e){t("log",e," at pages/order/order.vue:130"),e.state&&(this.state=e.state,this.chooseItem=parseInt(e.state),this.title=1==this.state?"派单中":2==this.state?"待预约":4==this.state?"已完成":"我的订单"),this.getOrderLists()},onReachBottom:function(){this.o_length<this.allTotal?(this.pageIndex++,this.getOrderLists()):this.$queue.showToast("已加载全部数据")},onPullDownRefresh:function(){this.pageIndex=1,this.orderList=[],this.getOrderLists()},methods:{selectState:function(e){t("log",e," at pages/order/order.vue:155"),this.state=e[0],this.chooseItem=e[0],0===e[0]?this.title="我的订单":this.title=this.selector[e[0]],this.pageIndex=1,this.orderList=[],this.getOrderLists()},comfirm:function(){uni.makePhoneCall({phoneNumber:this.phoneNumber,success:function(e){t("log","调用成功!",e," at pages/order/order.vue:171")},fail:function(e){t("log","调用失败!",e," at pages/order/order.vue:174")}})},getOrderLists:function(){var e=this,i=this.$queue.getData("n"),a=this.$queue.getData("clientId");this.$zshs.request("/web/users/orders?page="+this.pageIndex+"&per-page="+this.pageSize,{action:"all",mode:"getOrders",n:i,order_status:this.state,phone_key:a,user:"common"},"POST").then((function(i){if(t("log",i," at pages/order/order.vue:190"),200==i.code&&0===i.data.code){uni.stopPullDownRefresh(),uni.hideLoading(),e.allTotal=i.data.count,e.IsEmpty=!(i.data.orders.length>0);var a=[];a=i.data.orders,a.map((function(t,i){var a=t.order_goods,s="";a.map((function(t,e){var i=t.goods_sub_labels.split(";"),a=i[0].split(":");t.type=a[1],s+=t.type+"、"})),s=s.substr(0,s.length-1),t.typeList=s;var r=e.$manba().time(t.created_at+"000").format("f");t.createdTime=r})),e.orderList=e.orderList.concat(a),e.o_length=e.orderList.length}}))},takePhone:function(e){t("log",e," at pages/order/order.vue:222"),this.showmodal=!0,this.modalType=0,this.phoneNumber=e,this.content="Tel:"+e,this.modalTitle="立即联系回收商",this.confirmText="拨打电话"},cancleOrder:function(e){t("log",e," at pages/order/order.vue:231"),uni.navigateTo({url:"/pages/order/cancelOrder?o_id="+e})},showPicker:function(){this.show=!0},navTo:function(t){this.$queue.navTo(t)},back:function(){uni.switchTab({url:"/pages/user/user"})}}};e.default=a}).call(this,i("0de9")["log"])},"773f":function(t,e,i){"use strict";i.r(e);var a=i("6ce4"),s=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=s.a},"84c1":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-7341a88b]{width:100vw;background-color:#f5f5f5}.title-bar[data-v-7341a88b]{position:fixed;top:0;left:0}.empty[data-v-7341a88b]{width:100vw;height:%?60?%;background-color:#fff}.title-view[data-v-7341a88b]{width:100vw;height:%?88?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?24?% %?32?%}.title-view .left[data-v-7341a88b]{width:%?40?%;height:%?40?%}.title-view .left uni-image[data-v-7341a88b]{width:100%;height:100%}.title-view .middle[data-v-7341a88b]{font-size:%?32?%;color:#3d3d3d;font-weight:700}.title-view .right[data-v-7341a88b]{width:%?40?%;height:%?40?%}.title-view .right uni-image[data-v-7341a88b]{width:100%;height:100%}.order-view[data-v-7341a88b]{width:100vw;min-height:100vh;padding:0 %?16?%;margin-top:%?88?%;overflow:hidden}.order-view .order-item[data-v-7341a88b]{width:100%;min-height:%?388?%;background-color:#fff;padding:%?32?%;margin:%?32?% 0;border-radius:%?24?%}.order-view .order-item .order-state[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-bottom:%?24?%}.order-view .order-item .order-state .state-left[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-view .order-item .order-state .state-left .point[data-v-7341a88b]{width:%?16?%;height:%?16?%;border-radius:%?16?%;background:#3693f6;margin-right:%?16?%}.order-view .order-item .order-state .state-left .state-text[data-v-7341a88b]{font-size:%?28?%;color:#3693f6;font-weight:700}.order-view .order-item .order-state .state-left .y-bgc[data-v-7341a88b]{background:#f7a300}.order-view .order-item .order-state .state-left .y-tc[data-v-7341a88b]{color:#f7a300}.order-view .order-item .order-state .state-left .g-bgc[data-v-7341a88b]{background:#2ac89b}.order-view .order-item .order-state .state-left .g-tc[data-v-7341a88b]{color:#2ac89b}.order-view .order-item .order-state .state-left .bl-bgc[data-v-7341a88b]{background-color:#646464}.order-view .order-item .order-state .state-left .bl-tc[data-v-7341a88b]{color:#646464}.order-view .order-item .order-state .state-right[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?40?%;height:%?36?%;background-color:#f76675;border-radius:%?8?%;font-size:%?24?%;color:#fff;line-height:%?32?%;font-weight:400}.order-view .order-item .order-detail[data-v-7341a88b]{border-top:%?2?% solid #f5f5f5;border-bottom:%?2?% solid #f5f5f5;padding:%?24?%}.order-view .order-item .order-detail .detail-item[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?24?%;color:#646464;line-height:%?40?%;font-weight:400}.order-view .order-item .order-detail .detail-item .detail-left[data-v-7341a88b]{white-space:nowrap;margin-right:%?32?%}.order-view .empty-view[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100vh}.order-view .empty-view .imgbox[data-v-7341a88b]{width:%?300?%;height:%?400?%}.order-view .empty-view .imgbox .emptyImg[data-v-7341a88b]{width:100%;height:100%}.order-view .empty-view .empty-text[data-v-7341a88b]{margin-top:%?10?%;color:#d9dbdd}.btn-view[data-v-7341a88b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.btn-view .order-btn[data-v-7341a88b]{border:%?2?% solid #646464;color:#646464;border-radius:%?8?%;padding:%?10?%;margin-top:%?24?%;margin-left:%?24?%;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.btn-view .m-color[data-v-7341a88b]{border:%?2?% solid #f7a300;color:#f7a300;border-radius:%?8?%}',""]),t.exports=e},"8c34":function(t,e,i){"use strict";i.r(e);var a=i("de76"),s=i("773f");for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);i("28b8");var o,n=i("f0c5"),d=Object(n["a"])(s["default"],a["b"],a["c"],!1,null,"7341a88b",null,!1,a["a"],o);e["default"]=d.exports},a0eb:function(t,e,i){var a=i("84c1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("bf1446a6",a,!0,{sourceMap:!1,shadowMode:!1})},de76:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uModal:i("a18f").default,uPicker:i("2971").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title-bar"},[a("v-uni-view",{staticClass:"title-view"},[a("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back()}}},[a("v-uni-image",{attrs:{src:i("c3c9"),mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"middle"},[t._v(t._s(t.title))]),a("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPicker()}}},[a("v-uni-image",{attrs:{src:i("49d4"),mode:"aspectFill"}})],1)],1)],1),a("v-uni-view",{staticClass:"order-view"},[t._l(t.orderList,(function(e,i){return t.orderList.length>0?a("v-uni-view",{key:i,staticClass:"order-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navTo("/pages/order/orderDetail?orderId="+e.o_id)}}},[a("v-uni-view",{staticClass:"order-state"},[1==e.order_status?a("v-uni-view",{staticClass:"state-left"},[a("v-uni-view",{staticClass:"point"}),a("v-uni-view",{staticClass:"state-text"},[t._v("派单中")])],1):t._e(),2==e.order_status?a("v-uni-view",{staticClass:"state-left"},[a("v-uni-view",{staticClass:"point"}),a("v-uni-view",{staticClass:"state-text"},[t._v("待预约")])],1):t._e(),3==e.order_status?a("v-uni-view",{staticClass:"state-left"},[a("v-uni-view",{staticClass:"point y-bgc"}),a("v-uni-view",{staticClass:"state-text y-tc"},[t._v("待回收(2021年8月3日 18:00~19:00)")])],1):t._e(),4==e.order_status?a("v-uni-view",{staticClass:"state-left"},[a("v-uni-view",{staticClass:"point g-bgc"}),a("v-uni-view",{staticClass:"state-text g-tc"},[t._v("已完成")])],1):t._e(),5==e.order_status||6==e.order_status?a("v-uni-view",{staticClass:"state-left"},[a("v-uni-view",{staticClass:"point bl-bgc"}),a("v-uni-view",{staticClass:"state-text bl-tc"},[t._v("已取消")])],1):t._e(),1==e.order_urgent?a("v-uni-view",{staticClass:"state-right"},[t._v("急")]):t._e()],1),a("v-uni-view",{staticClass:"order-detail"},[a("v-uni-view",{staticClass:"detail-item"},[a("v-uni-view",{staticClass:"detail-left"},[t._v("回收物品")]),a("v-uni-view",{staticClass:"detail-right"},[t._v(t._s(e.typeList))])],1),a("v-uni-view",{staticClass:"detail-item"},[a("v-uni-view",{staticClass:"detail-left"},[t._v("联系电话")]),a("v-uni-view",{staticClass:"detail-right"},[t._v(t._s(e.name+"("+e.phone_no+")"))])],1),a("v-uni-view",{staticClass:"detail-item"},[a("v-uni-view",{staticClass:"detail-left"},[t._v("联系地址")]),a("v-uni-view",{staticClass:"detail-right"},[t._v(t._s(e.location+e.address))])],1)],1),a("v-uni-view",{staticClass:"btn-view"},[6==e.order_status?a("v-uni-view",{staticClass:"order-btn m-color",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/order/comment")}}},[t._v("评价")]):t._e(),5==e.order_status?a("v-uni-view",{staticClass:"order-btn"},[t._v("重新下单")]):t._e(),e.business_phone_no?a("v-uni-view",{staticClass:"order-btn",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.takePhone(e.business_phone_no)}}},[t._v("联系回收商")]):t._e(),1==e.order_status||2==e.order_status||3==e.order_status?a("v-uni-view",{staticClass:"order-btn",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.cancleOrder(e.o_id)}}},[t._v("取消订单")]):t._e()],1)],1):t._e()})),t.IsEmpty?a("v-uni-view",{staticClass:"empty-view"},[a("v-uni-view",{staticClass:"imgbox"},[a("v-uni-image",{staticClass:"emptyImg",attrs:{src:i("eeea"),mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"empty-text"},[t._v("空空如也~")])],1):t._e()],2),a("v-uni-view",{staticClass:"modal-view"},[a("u-modal",{attrs:{"show-title":t.showTitle,title:t.modalTitle,"title-style":t.titleStyle,"confirm-text":t.confirmText,"show-cancel-button":!0,content:t.content,"confirm-color":t.confirmColor},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.comfirm.apply(void 0,arguments)}},model:{value:t.showmodal,callback:function(e){t.showmodal=e},expression:"showmodal"}})],1),a("v-uni-view",{staticClass:"picker"},[a("u-picker",{attrs:{mode:"selector","default-selector":[t.chooseItem],range:t.selector,"cancel-color":"#999999","confirm-color":"#F7A300"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.selectState.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)],1)},r=[]},eeea:function(t,e,i){t.exports=i.p+"static/img/empty.c099aadd.png"}}]);